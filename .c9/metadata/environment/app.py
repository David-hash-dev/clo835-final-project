{"filter":false,"title":"app.py","tooltip":"/app.py","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":28,"column":0},"action":"insert","lines":["import os","import boto3","from flask import Flask, render_template","","app = Flask(__name__)","","s3_image_url = os.environ.get(\"S3_IMAGE_URL\")","group_name = os.environ.get(\"GROUP_NAME\", \"Your Group Name\")","group_slogan = os.environ.get(\"GROUP_SLOGAN\", \"Your Slogan\")","image_file = \"static/background.jpg\"","","print(f\"Background Image URL: {s3_image_url}\")","","def download_image_from_s3(url):","    s3 = boto3.client('s3', region_name='us-east-1')","    bucket_name = url.split('/')[2].split('.')[0]","    key = '/'.join(url.split('/')[3:])","    s3.download_file(bucket_name, key, image_file)","","if s3_image_url:","    download_image_from_s3(s3_image_url)","","@app.route(\"/\")","def index():","    return render_template(\"index.html\", group_name=group_name, group_slogan=group_slogan)","","if __name__ == \"__main__\":","    app.run(host=\"0.0.0.0\", port=81, debug=True)",""],"id":1}],[{"start":{"row":27,"column":33},"end":{"row":27,"column":34},"action":"insert","lines":["8"],"id":2},{"start":{"row":27,"column":34},"end":{"row":27,"column":35},"action":"insert","lines":["0"]}],[{"start":{"row":0,"column":0},"end":{"row":28,"column":0},"action":"remove","lines":["import os","import boto3","from flask import Flask, render_template","","app = Flask(__name__)","","s3_image_url = os.environ.get(\"S3_IMAGE_URL\")","group_name = os.environ.get(\"GROUP_NAME\", \"Your Group Name\")","group_slogan = os.environ.get(\"GROUP_SLOGAN\", \"Your Slogan\")","image_file = \"static/background.jpg\"","","print(f\"Background Image URL: {s3_image_url}\")","","def download_image_from_s3(url):","    s3 = boto3.client('s3', region_name='us-east-1')","    bucket_name = url.split('/')[2].split('.')[0]","    key = '/'.join(url.split('/')[3:])","    s3.download_file(bucket_name, key, image_file)","","if s3_image_url:","    download_image_from_s3(s3_image_url)","","@app.route(\"/\")","def index():","    return render_template(\"index.html\", group_name=group_name, group_slogan=group_slogan)","","if __name__ == \"__main__\":","    app.run(host=\"0.0.0.0\", port=8081, debug=True)",""],"id":3},{"start":{"row":0,"column":0},"end":{"row":31,"column":0},"action":"insert","lines":["import os","import boto3","from flask import Flask, render_template","","app = Flask(__name__)","","s3_image_url = os.environ.get(\"S3_IMAGE_URL\")","group_name = os.environ.get(\"GROUP_NAME\", \"Your Group Name\")","group_slogan = os.environ.get(\"GROUP_SLOGAN\", \"Your Slogan\")","image_file = \"static/background.jpg\"","","print(f\"Background Image URL: {s3_image_url}\")","","def download_image_from_s3(url):","    # Ensure folder exists","    os.makedirs(os.path.dirname(image_file), exist_ok=True)","    ","    s3 = boto3.client('s3', region_name='us-east-1')","    bucket_name = url.split('/')[2].split('.')[0]","    key = '/'.join(url.split('/')[3:])","    s3.download_file(bucket_name, key, image_file)","","if s3_image_url:","    download_image_from_s3(s3_image_url)","","@app.route(\"/\")","def index():","    return render_template(\"index.html\", group_name=group_name, group_slogan=group_slogan)","","if __name__ == \"__main__\":","    app.run(host=\"0.0.0.0\", port=8081, debug=True)",""]}]]},"ace":{"folds":[],"scrolltop":171.10000000000005,"scrollleft":0,"selection":{"start":{"row":31,"column":0},"end":{"row":31,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1753817709498,"hash":"f275427bbedef57cd6ea845c8db110194f514498"}